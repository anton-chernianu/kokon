#!/bin/sh

# Читаем сообщение коммита из файла
COMMIT_MSG_FILE=$1
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

# Проверяем, что сообщение содержит скобки и текст после пробела или двоеточия
if ! echo "$COMMIT_MSG" | grep -qE '\(.*\)(:|\s).+'; then
  echo "❌ Сообщение коммита должно содержать скобки и текст после пробела или двоеточия. Пример: 'feat(scope): описание изменений' или 'feat(scope) описание изменений'"
  exit 1
fi

# Если формат корректный, выходим успешно
exit 0
